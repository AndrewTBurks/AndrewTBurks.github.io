{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/react-mental-model","webpackCompilationHash":"58bc23531b44d4ebf4d2","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"path\": \"/blog/react-mental-model\",\n  \"date\": \"2020-11-18\",\n  \"title\": \"Andrew's Mental Model of React\",\n  \"featuredImage\": \"../images/SAGE3-full.png\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"figure\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"marginLeft\": \"0\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"figure\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"650px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/5d3a678044f0e7e191ed744d85175a31/b5233/SAGE3-full.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"65.6441717791411%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAC4jAAAuIwF4pT92AAABXElEQVQoz6VSz0vDMBTeny+IRy/CxMMceHAiyBBkB8GDig48aH/ZH2najq5N0rXN1i5JZ9q6oYLi9Dskj0fe+773vXRW/0CnvSqJJhDrYItiCcrYhFIuxBbMomFSEnxoKoPA7rvGXLBay/rFD1JqZi6qA+NZ8xB8JSd3qhoimSzLUoi6sywuioJzzhjjDTbtOm3vI0s9G+sXI31n7zoMKaWZA1xZ79gAIewHAcbYNM35YmE7Tp7n78VVI1BOO5hYxy/a7v6NpFuype8HpmmpmqYoapqmLvR0w5BaZB4h1FK2zI3J1YoJcfsAz4cqZ4VtAwg9kiRBMHEc4PkBAG4YTiGEhJAPM/PqcmRkeSljAEn/9EmuLEY4iuLpNEqSJIqi2SzFmGBC4hhlWfbJ7fux1+2Nh1d6t/cI/VnTcQMhnZLe1ZEQ7fl1z4jMLQdTWraDbPfDVr9Y7Lc/7A94A+fb67jcubTIAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"SAGE3: Smart Amplified Group Environment\",\n    \"title\": \"SAGE3: Smart Amplified Group Environment\",\n    \"src\": \"/static/5d3a678044f0e7e191ed744d85175a31/c8518/SAGE3-full.png\",\n    \"srcSet\": [\"/static/5d3a678044f0e7e191ed744d85175a31/9d4d6/SAGE3-full.png 163w\", \"/static/5d3a678044f0e7e191ed744d85175a31/59727/SAGE3-full.png 325w\", \"/static/5d3a678044f0e7e191ed744d85175a31/c8518/SAGE3-full.png 650w\", \"/static/5d3a678044f0e7e191ed744d85175a31/bcba3/SAGE3-full.png 975w\", \"/static/5d3a678044f0e7e191ed744d85175a31/9a3b8/SAGE3-full.png 1300w\", \"/static/5d3a678044f0e7e191ed744d85175a31/b5233/SAGE3-full.png 2322w\"],\n    \"sizes\": \"(max-width: 650px) 100vw, 650px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", _extends({\n    parentName: \"figure\"\n  }, {\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }), \"SAGE3: Smart Amplified Group Environment\"), \"\\n  \")), mdx(\"h1\", {\n    \"id\": \"overview\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#overview\",\n    \"aria-label\": \"overview permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Overview\"), mdx(\"p\", null, \"Here I discuss my mental model of React and how it scales to the architecture of large applications like SAGE3. This will evolve as I have new thoughts or as I find better ways to articulate this information.\"), mdx(\"p\", null, \"One way to help frame the discussion about component architecture is to make sure we think in terms of the model of React: components are pure representations of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"props\\xA0+ state\"), \".\"), mdx(\"h3\", {\n    \"id\": \"definitions\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#definitions\",\n    \"aria-label\": \"definitions permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Definitions\"), mdx(\"p\", null, \"Some terms like \\\"state\\\" or \\\"instance\\\" are overloaded and could be interpreted in multiple ways. Below are definitions about how I primarily use these terms in this context.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"state\"), \": referring primarily to React State,\\xA0not the broader idea of stateful behavior which may be external to React (which we are going to implement in SAGE3 and is\\xA0separate but related -- will get to this later)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"instance\"), \": not an \\\"instance\\\" of a class like in OOP, but an instance of a component in the sense of an occurrence at a specific place in the DOM tree\")), mdx(\"h1\", {\n    \"id\": \"props-and-state\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#props-and-state\",\n    \"aria-label\": \"props and state permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Props and State\"), mdx(\"p\", null, \"In the most simplistic form, you have \\\"stateless\\\" Function Components (not sure how often this term is still in use after the advent of hooks). In this scenario, each component is a completely pure representation of props and contains no state. You can liken the idea to functional programming: given some input to the function, the function produces an output which is always consistent without mutating the input data. If the component is rendered with different props the next time, it doesn't matter what the previous props are.\"), mdx(\"p\", null, \"Next, you can roll in the concept of \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"state\"), \" to a component. For each component, props are passed down from the parent and the state lives within that component. If a component is \\\"stateful\\\", this state is persistent\\xA0between renders for one instance of a component. State within a component is encapsulated -- the same component can be rendered multiple times throughout an interface with differing internal state. For example, an \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"isHovered\"), \" state value may be internal to a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Button\"), \" component, controlled by \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"onMouseOver\"), \" and \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"onMouseLeave\"), \" event listeners. This stateful behavior is associated with every Button used and will change the representation of a single instance of the Button.\"), mdx(\"p\", null, \"The next logical question is most likely: what if we need some state value to be connected between two components? For example, we have a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TextEditor\"), \" component that has some state (the current text which is shown), and then we want to add a Button component with a listener onClick to clear the text in the editor (interacting with the state of the text editor). In this case, we \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/lifting-state-up.html\"\n  }), \"\\\"Lift State Up\\\"\"), \". This idea is essentially just that we can raise the location of our state value to the nearest common ancestor and then pass down just what the child components need to do their job (e.g. TextEditor gets the text value and a function to update the text when the user inputs text; the Button gets a function to update the text to clear it).\"), mdx(\"h3\", {\n    \"id\": \"central-state-stores\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#central-state-stores\",\n    \"aria-label\": \"central state stores permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Central State Stores\"), mdx(\"p\", null, \"A pattern seen in multiple state management patterns and libraries is to create a single top-level 'store' of a larger\\xA0chunk of application state. This can be important when multiple stateful values depend on one another or when your state as a whole needs to have some action performed on it. For example, you may have \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"middleware\"), \" which tracks or validates updates to this state, or the state may need to be synchronized with an external store using a technology like WebSocket.\"), mdx(\"p\", null, \"From this central store, you pare down the state values passed to each component based on what is required.\"), mdx(\"p\", null, \"This central store is how we transition from a more granular component-level or app-level React state to something which we can synchronize between clients as our SAGE3 state representation. This central store can contain all of the cross-client state values and be passed down on a per-app basis. For example, each app has SAGE3 state of the app's position and size, app ID, etc. The size value can be used at multiple places in the component hierarchy: the \\\"Window\\\" component needs the position and size of the app to show up in the proper location of the screen. The specific app implementation may need the size of the app to draw its content responsively and adapt to the screen space provided.\"), mdx(\"h1\", {\n    \"id\": \"composition-and-inheritence\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#composition-and-inheritence\",\n    \"aria-label\": \"composition and inheritence permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Composition and Inheritence\"), mdx(\"p\", null, \"For the most part, I defer to React's documentation on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/composition-vs-inheritance.html\"\n  }), \"Composition and Inheritence\"), \".\"), mdx(\"h1\", {\n    \"id\": \"classes-vs-functions\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h1\"\n  }, {\n    \"href\": \"#classes-vs-functions\",\n    \"aria-label\": \"classes vs functions permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Classes vs. Functions\"), mdx(\"p\", null, \"A post about the differences between Function and Class Components written by Dan Abramov (React Core Team) \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://overreacted.io/how-are-function-components-different-from-classes/\"\n  }), \"is a good place to start\"), \" if wondering about the implementation differences.\"), mdx(\"p\", null, \"I think classes in React can be a bit misleading. The class structure is just that - a structure to expose common functionality from a component to the React runtime so that the runtime can run lifecycle methods (componentDidMount, componentWillUnmount, etc.). This\\xA0structure supports the Inversion of Control principle where the component provides methods to handle certain lifecycle\\xA0events and React can find and call them when appropriate. Principles of classes in OOP don't really map to React.\\xA0\\nFor example, a few disconnects between the mental model of classes in OOP and their usage in React:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Class Components are a class but you never instantiate it (i.e. calling new MyComponent(...))\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It extends React.Component, not any class you created\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Typically, inheritance\\xA0isn't actually used outside of inheriting from this single superclass \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/composition-vs-inheritance.html#so-what-about-inheritance\"\n  }), \"More on Inheritence\"))))), mdx(\"p\", null, \"On the other hand, there are a few OOP principles that are\\xA0core to React:EncapsulationSeparation of concerns (or sometimes \\\"crosscutting of concerns\\\")Inversion of Control (a broader Software Engineering Principle)\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"date":"November 18, 2020","path":"/blog/react-mental-model","title":"Andrew's Mental Model of React","featuredImage":{"publicURL":"/static/5d3a678044f0e7e191ed744d85175a31/SAGE3-full.png"}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"previous":{"frontmatter":{"title":"Slate Gun Deaths Visualization","path":"/blog/slate-gun-deaths"}},"next":null}}}